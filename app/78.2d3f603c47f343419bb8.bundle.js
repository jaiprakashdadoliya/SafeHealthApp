(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{2708:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2709);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})},2709:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MedicalHistory=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),n=m(a(1)),r=a(43),o=a(36),l=a(803),d=m(a(807));a(804);m(a(115));var c=a(8),u=a(2710),f=a(2712);function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s.medicalHistoryEditShowHandle=s.medicalHistoryEditShowHandle.bind(s),s.medicalHistoryEditHideHandle=s.medicalHistoryEditHideHandle.bind(s),s.handleSave=s.handleSave.bind(s),s.handleClose=s.handleClose.bind(s),s.handleChange=s.handleChange.bind(s),s.handleSelectChange=s.handleSelectChange.bind(s),s.diseaseDeleteHandle=s.diseaseDeleteHandle.bind(s),s.getDiseasesList=s.getDiseasesList.bind(s),s.diseaseSearch=s.diseaseSearch.bind(s),s.state={medicalHistoryShow:!1,disease:s.initialState,editDisease:s.initialState,filtered:[],filterAll:""},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),i(t,[{key:"getDiseasesList",value:function(e,t,a,s){(0,this.props.dispatch)(u.medicalHistoryActions.diseaseList(e,t,a,s))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,i=t.value,n=this.state.disease,r=n.detail,o=n.validate;this.setState({disease:{validate:s({},o,p({},a,{isValid:!0,message:""})),detail:s({},r,p({},a,i))}})}},{key:"handleSelectChange",value:function(e,t){var a=this.state.disease,i=a.detail,n=a.validate;this.setState({disease:{detail:s({},i,p({},t,e.value)),validate:s({},n,p({},t,{isValid:!0,message:""}))}})}},{key:"medicalHistoryEditShowHandle",value:function(e){var t=this.props.diseases[e],a=this.state.disease,i=a.detail,n=a.validate;this.setState({disease:{detail:s({},i,{disease_id:t.disease_id,disease_name:t.disease_name}),validate:s({},n,{disease_name:{isValid:!0,message:""}})}}),this.setState({medicalHistoryShow:!0})}},{key:"handleClose",value:function(){(0,this.props.dispatch)(u.medicalHistoryActions.resetState()),this.medicalHistoryEditHideHandle(),this.setState({disease:this.initialState})}},{key:"handleSave",value:function(){if(f.medicalHistoryValidator.isDiseaseValid(this)){var e=this.state.disease.detail;(0,this.props.dispatch)(u.medicalHistoryActions.diseaseSave(e,this.props.diseases))}}},{key:"componentWillReceiveProps",value:function(e){(e.addSuccessMessage||e.deleteErrorMsg)&&e.activeKey?setTimeout(function(){this.setState({disease:this.initialState}),(0,this.props.dispatch)(u.medicalHistoryActions.resetState())}.bind(this),1500):e.addErrorMsg&&e.activeKey&&setTimeout(function(){(0,this.props.dispatch)(u.medicalHistoryActions.resetState())}.bind(this),1500)}},{key:"medicalHistoryEditHideHandle",value:function(){this.setState({medicalHistoryShow:!1})}},{key:"diseaseDeleteHandle",value:function(e){var t=this;(0,l.confirmAlert)({title:"Disease delete",message:"Are you sure you want to delete this disease?",buttons:[{label:"Yes",onClick:function(){(0,t.props.dispatch)(u.medicalHistoryActions.diseaseDelete(e,t.props.diseases))}},{label:"No",onClick:function(){return!1}}]})}},{key:"diseaseSearch",value:function(e){var t=e.target.value,a=[{id:"all",value:t}];this.setState({filterAll:t,filtered:a})}},{key:"render",value:function(){var e,t=this;return n.default.createElement("div",null,this.props.addSuccessMessage&&n.default.createElement(r.Alert,{bsStyle:"success"},this.props.addSuccessMessage),this.props.deleteErrorMsg&&n.default.createElement(r.Alert,{bsStyle:"danger"},this.props.deleteErrorMsg),this.props.addErrorMsg&&n.default.createElement(r.Alert,{bsStyle:"danger"},this.props.addErrorMsg),n.default.createElement("div",{className:"col-md-12"},n.default.createElement("h4",null,"Medical History")),n.default.createElement("div",{className:"col-md-6"},n.default.createElement("div",{className:"form-group"},n.default.createElement("div",{className:this.state.disease.validate.disease_name.isValid?"form-group":"form-group has-error"},n.default.createElement("input",{className:"form-control",type:"text",name:"disease_name",id:"disease_name",onChange:this.handleChange,value:this.state.disease.detail.disease_name}),n.default.createElement("span",{className:"help-block"},this.state.disease.validate.disease_name.message)))),n.default.createElement("div",{className:"col-md-3 text-left"},this.state.medicalHistoryShow?n.default.createElement("div",{className:"form-group"},n.default.createElement(r.Button,{className:"btn table-btn green margin-top-25",onClick:this.handleSave,disabled:!!this.props.editSuccessMessage},"Save"),n.default.createElement(r.Button,{className:"btn table-btn red margin-top-25",onClick:this.handleClose},"Cancel")):n.default.createElement("div",{className:"form-group"},n.default.createElement("button",{className:"green btn table-btn",id:"dr_pass_change",onClick:this.handleSave,disabled:!!this.props.editSuccessMessage},"Add"))),n.default.createElement("hr",null),n.default.createElement("div",{className:"table-wrap tabel-responsive col-md-12"},n.default.createElement("div",{className:"table-search"},"Search: ",n.default.createElement("input",{value:this.state.filterAll,onChange:this.diseaseSearch,className:"table-search-input"})),n.default.createElement(d.default,(p(e={noDataText:"No Disease found !!",data:this.props.diseases,filterable:!0,defaultFilterMethod:function(e,t){return String(t[e.id])===e.value},filtered:this.state.filtered,columns:[{Header:"Disease Name",accessor:"disease_name",className:"dataCellClass",filterable:!1,filterMethod:function(e,t){return t[e.id].includes(e.value)}},{Header:"Actions",accessor:"disease_id",filterable:!1,className:"actionCellClass",Cell:function(e){return n.default.createElement("div",null,n.default.createElement("a",{href:"javascript:void(0);",onClick:t.medicalHistoryEditShowHandle.bind(null,e.index),className:"green btn table-btn"},"Edit"),n.default.createElement("a",{href:"javascript:void(0)",onClick:t.diseaseDeleteHandle.bind(null,e.value),className:"red btn table-btn"},"Delete"))}}],defaultSorted:[{id:"disease_name",desc:!0}],defaultPageSize:c.configConstants.PAGE_SIZE,minRows:this.props.diseases.length,className:"table table-bordered responsive",loading:this.props.loader},"filterable",!0),p(e,"Sorted",!0),p(e,"pages",this.props.pages),p(e,"showPagination",!0),p(e,"showPaginationTop",!0),p(e,"showPaginationBottom",!1),p(e,"pageSizeOptions",[10,20,50,100]),p(e,"manual",!0),p(e,"onFetchData",function(e,a){t.getDiseasesList(e.page,e.pageSize,e.sorted,e.filtered)}),e))))}},{key:"initialState",get:function(){return{detail:{disease_id:"",disease_name:""},validate:{disease_name:{isValid:!0,message:""}}}}}]),t}();var v=(0,o.connect)(function(e){var t=e.medicalHistoryDoctor;return{pages:t.pages,isUserNotValid:t.isUserNotValid,diseases:t.diseases,addSuccessMessage:t.addSuccessMessage,deleteErrorMsg:t.deleteErrorMsg,addErrorMsg:t.addErrorMsg,loader:t.loader}})(h);t.MedicalHistory=v},2710:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.medicalHistoryActions=void 0;var s=a(8),i=a(338),n=a(2711),r=a(10);t.medicalHistoryActions={diseaseList:function(e,t,a,r){return function(l){l({type:i.medicalHistoryConstants.DR_MH_REQUEST}),n.medicalHistoryService.diseaseList(e,t,a,r).then(function(e){var t,a,n=e.data;n.code==s.configConstants.SUCCESS_CODE?l((a=n.result,{type:i.medicalHistoryConstants.DR_MH_SUCCESS,diseases:a})):n.code==s.configConstants.ERROR_CODE?l(o(n.message)):n.code==s.configConstants.EXCEPTION_CODE?l(o(n.message)):n.code==s.configConstants.UNAUTHENTICATE_CODE?l((t=n.message,{type:s.configConstants.UNAUTHENTICATE,error:t})):l(o(e))}).catch(function(e){l(o(e))})};function o(e){return{type:i.medicalHistoryConstants.DR_MH_FAILURE,errorMsg:e}}},diseaseSave:function(e,t){return function(o){o({type:i.medicalHistoryConstants.DR_MH_ADD_REQUEST}),n.medicalHistoryService.diseaseSave(e).then(function(n){var l,d=n.data;if(d.code==s.configConstants.SUCCESS_CODE){if(""!=e.disease_id){var c=t.findIndex(function(t){return t.disease_id===e.disease_id});t[c]=e}else e.disease_id=d.result.disease_id,t.unshift(e);var u={message:d.message,detail:d.result,disease:t};o(function(e){return{type:i.medicalHistoryConstants.DR_MH_ADD_SUCCESS,successMsg:e}}(u))}else if(d.code==s.configConstants.ERROR_CODE){var f=r.utilityHelper.getFirstErrorMessage(d.error);o(a(f))}else d.code==s.configConstants.EXCEPTION_CODE?o(a(d.message)):d.code==s.configConstants.UNAUTHENTICATE_CODE?o((l=d.message,{type:s.configConstants.UNAUTHENTICATE,error:l})):o(a(n))}).catch(function(e){o(a(e))})};function a(e){return{type:i.medicalHistoryConstants.DR_MH_ADD_FAILURE,errorMsg:e}}},diseaseDelete:function(e,t){return function(r){r({type:i.medicalHistoryConstants.DR_MH_REMOVE_REQUEST}),n.medicalHistoryService.diseaseDelete(e).then(function(n){var o,l=n.data;if(l.code==s.configConstants.SUCCESS_CODE){t=t.filter(function(t){return t.disease_id!==e});var d={message:l.message,diseaseId:e,disease:t};r(function(e){return{type:i.medicalHistoryConstants.DR_MH_REMOVE_SUCCESS,successMsg:e}}(d))}else l.code==s.configConstants.ERROR_CODE?r(a(l.message)):l.code==s.configConstants.EXCEPTION_CODE?r(a(l.message)):l.code==s.configConstants.UNAUTHENTICATE_CODE?r((o=l.message,{type:s.configConstants.UNAUTHENTICATE,error:o})):r(a(n))}).catch(function(e){r(a(e))})};function a(e){return{type:i.medicalHistoryConstants.DR_MH_REMOVE_FAILURE,errorMsg:e}}},resetState:function(){return function(e){e({type:i.medicalHistoryConstants.DR_MH_RESET_STATE})}}}},2711:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.medicalHistoryService=void 0;var s,i=a(15),n=(s=i)&&s.__esModule?s:{default:s},r=a(8),o=a(10);t.medicalHistoryService={diseaseList:function(e,t,a,s){return(0,n.default)({method:"post",url:r.configConstants.API_BASE_PATH+"doctor/disease/list",data:{page:e,pageSize:t,sorted:a,filtered:s},headers:{Authorization:"Bearer "+o.utilityHelper.getLoginAccessToken()}}).then(function(e){return e}).catch(function(e){return e})},diseaseSave:function(e){var t=""!=e.disease_id?"put":"post";return(0,n.default)({method:t,url:r.configConstants.API_BASE_PATH+"doctor/disease/save",data:e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.utilityHelper.getLoginAccessToken()}}).then(function(e){return e}).catch(function(e){return e})},diseaseDelete:function(e){var t={disease_id:e};return(0,n.default)({method:"delete",url:r.configConstants.API_BASE_PATH+"doctor/disease/delete",headers:o.headerHelper.getHeaderWithAuthorization(),data:o.headerHelper.appendUserDataInJson(t)}).then(function(e){return e}).catch(function(e){return e})}}},2712:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.medicalHistoryValidator=void 0;var s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=a(19),r=(s=n)&&s.__esModule?s:{default:s},o=a(10);t.medicalHistoryValidator={isDiseaseValid:function(e){var t=e.state.disease,a=t.detail,s=t.validate,n={};r.default.isEmpty(r.default.trim(a.disease_name))&&(n.disease_name={isValid:!1,message:"Disease name is required."});return!!o.utilityHelper.isObjectEmpty(n)||(e.setState({disease:{detail:i({},a),validate:i({},s,n)}}),!1)}}},803:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}();t.confirmAlert=function(e){(function(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.7");var a=document.createElementNS(e,"filter");a.setAttribute("id","gaussian-blur"),a.appendChild(t);var s=document.createElementNS(e,"svg");s.setAttribute("id","react-confirm-alert-firm-svg"),s.setAttribute("class","react-confirm-alert-svg"),s.appendChild(a),document.body.appendChild(s)})(),function(e){document.body.children[0].classList.add("react-confirm-alert-blur");var t=document.createElement("div");t.id="react-confirm-alert",document.body.appendChild(t),(0,d.render)(o.default.createElement(f,e),t)}(e)};var r=a(1),o=c(r),l=c(a(0)),d=a(13);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(i=s=function(e){function t(){var e,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return a=s=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n))),s.handleClickButton=function(e){e.onClick&&e.onClick(),s.close()},s.close=function(){var e,t;e=document.getElementById("react-confirm-alert"),(0,d.unmountComponentAtNode)(e),e.parentNode.removeChild(e),(t=document.getElementById("react-confirm-alert-firm-svg")).parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur")},s.componentWillUnmount=function(){s.props.willUnmount()},s.renderCustomUI=function(){var e=s.props,t=e.title,a=e.message;return(0,e.customUI)({title:t,message:a,onClose:s.close})},u(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,s=t.message,i=t.buttons,n=t.childrenElement,r=t.customUI;return o.default.createElement("div",{className:"react-confirm-alert-overlay"},o.default.createElement("div",{className:"react-confirm-alert"},r?this.renderCustomUI():o.default.createElement("div",{className:"react-confirm-alert-body"},a&&o.default.createElement("h1",null,a),s,n(),o.default.createElement("div",{className:"react-confirm-alert-button-group"},i.map(function(t,a){return o.default.createElement("button",{key:a,onClick:function(){return e.handleClickButton(t)}},t.label)})))))}}]),t}(),s.propTypes={title:l.default.string,message:l.default.string,buttons:l.default.array.isRequired,childrenElement:l.default.func,customUI:l.default.func,willUnmount:l.default.func},s.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null}},{label:"Confirm",onClick:function(){return null}}],childrenElement:function(){return null},willUnmount:function(){return null}},i);t.default=f},804:function(e,t,a){}}]);