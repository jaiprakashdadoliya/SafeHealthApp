(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1917:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatientFamilyMedicalHistory=void 0;var n,i=a(1),l=(n=i)&&n.__esModule?n:{default:n},o=a(8),r=a(66),s=(a(43),a(811));t.PatientFamilyMedicalHistory=function(e){return l.default.createElement("div",null,l.default.createElement("div",{className:"row",id:"familyMedicalTitle"},l.default.createElement("div",{className:"col-md-6"},l.default.createElement("h3",null,"Family medical history (biological)")),l.default.createElement("div",{className:"col-md-6 text-right"},l.default.createElement("button",{className:"btn text-btn green",disabled:!!e.submitted,onClick:e.submitFamilyMedicalStatus},e.submitted?o.configConstants.BUTTON_PLEASE_WAIT:o.configConstants.SAVE_BUTTON))),l.default.createElement(r.PatientAlertMessage,{errorMsg:e.errorMsg,isUpdateDone:e.isUpdateDone,successMessage:e.successMessage}),l.default.createElement("div",{className:"table-responsive"},l.default.createElement("div",{className:"divTable"},l.default.createElement("div",{className:"divTableHeading"},l.default.createElement("div",{className:"divTableRow"},l.default.createElement("div",{className:"divTableHead"},"Disease Name"),l.default.createElement("div",{className:"divTableHead"},"Yes/No"),l.default.createElement("div",{className:"divTableHead"},"Relation"))),l.default.createElement("div",{className:"divTableBody"},e.patientFamilyMedicalData.record.map(function(t){var a=t.disease_id,n=t.disease_name,i=t.family_relation_id;return t.disease_type!==o.dataConstants.IS_SHOW_IN_TYPE_FAMILY_MEDICAL_HISTORY_PART_1?null:l.default.createElement(l.default.Fragment,{key:a},"",l.default.createElement("div",{className:"divTableRow"},l.default.createElement("div",{className:"divTableCell"},n),l.default.createElement("div",{className:"divTableCell"},l.default.createElement(s.CheckboxGroup,{checkboxDepth:2,name:a,value:e.state[a],onChange:function(t,n){return e.handleCheckboxChange(t,a)}},e.patientFamilyMedicalData.yes_no_option.map(function(e){return l.default.createElement("label",{key:"sd"+e.id},l.default.createElement(s.Checkbox,{className:"option-input checkbox",value:e.id}),l.default.createElement("span",null,e.value))}))),l.default.createElement("div",{className:"divTableCell"},l.default.createElement(s.CheckboxGroup,{checkboxDepth:2,name:i,value:e.state[i],onChange:function(t,a){return e.handleCheckboxChangeAll(t,i)}},e.patientFamilyMedicalData.family_relation_option.map(function(e){return l.default.createElement("label",{key:"sd"+e.id},l.default.createElement(s.Checkbox,{className:"option-input checkbox",value:e.id}),l.default.createElement("span",null,e.value))})))))}),l.default.createElement("div",{className:"divTableRow"},l.default.createElement("div",{className:"divTableCell colspan"},l.default.createElement("div",null,l.default.createElement("div",null,l.default.createElement("strong",null,"Rheumatologic disease/collagen vascular disease"))))),e.patientFamilyMedicalData.record.map(function(t){var a=t.disease_id,n=t.disease_name,i=t.family_relation_id;return t.disease_type!==o.dataConstants.IS_SHOW_IN_TYPE_FAMILY_MEDICAL_HISTORY_PART_2?null:l.default.createElement(l.default.Fragment,{key:a},"",l.default.createElement("div",{className:"divTableRow"},l.default.createElement("div",{className:"divTableCell"},n),l.default.createElement("div",{className:"divTableCell"},l.default.createElement(s.CheckboxGroup,{checkboxDepth:2,name:a,value:e.state[a],onChange:function(t,n){return e.handleCheckboxChange(t,a)}},e.patientFamilyMedicalData.yes_no_option.map(function(e){return l.default.createElement("label",{key:"sd"+e.id},l.default.createElement(s.Checkbox,{className:"option-input checkbox",value:e.id}),l.default.createElement("span",null,e.value))}))),l.default.createElement("div",{className:"divTableCell"},l.default.createElement(s.CheckboxGroup,{checkboxDepth:2,name:i,value:e.state[i],onChange:function(t,a){return e.handleCheckboxChangeAll(t,i)}},e.patientFamilyMedicalData.family_relation_option.map(function(e){return l.default.createElement("label",{key:"sd"+e.id},l.default.createElement(s.Checkbox,{className:"option-input checkbox",value:e.id}),l.default.createElement("span",null,e.value))})))))}),e.patientFamilyMedicalData.record.map(function(t){var a=t.disease_id,n=t.disease_name;t.family_relation_id;return t.disease_type!==o.dataConstants.IS_SHOW_IN_TYPE_FAMILY_MEDICAL_HISTORY_PART_3?null:l.default.createElement(l.default.Fragment,{key:a},"",l.default.createElement("div",{className:"divTableRow"},l.default.createElement("div",{className:"divTableCell"},n),l.default.createElement("div",{className:"divTableCell"},l.default.createElement("div",{className:"add-min-width-120"})),l.default.createElement("div",{className:"divTableCell"},l.default.createElement("input",{type:"text",className:"form-control",name:a,value:e.state[a],onChange:e.handleInputChange}))))})))),l.default.createElement("div",{className:"clearfix"},"Â "),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-md-12 text-right"},l.default.createElement("button",{className:"btn text-btn green",disabled:!!e.submitted,onClick:e.submitFamilyMedicalStatus},e.submitted?o.configConstants.BUTTON_PLEASE_WAIT:o.configConstants.SAVE_BUTTON))),l.default.createElement(r.PatientAlertMessage,{errorMsg:e.errorMsg,isUpdateDone:e.isUpdateDone,successMessage:e.successMessage}))}},2577:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1917);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var i=a(2578);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},2578:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatientFamilyMedicalHistoryContainer=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=p(a(1)),o=a(36),r=p(a(296)),s=a(66),c=a(10),u=a(54),d=a(2579);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m=(0,r.default)({loader:function(){return Promise.resolve().then(a.t.bind(null,1917,7)).then(function(e){return e.PatientFamilyMedicalHistory})},loading:s.Loading}),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a.submitFamilyMedicalStatus=a.submitFamilyMedicalStatus.bind(a),a.handleCheckboxChange=a.handleCheckboxChange.bind(a),a.handleCheckboxChangeAll=a.handleCheckboxChangeAll.bind(a),a.handleInputChange=a.handleInputChange.bind(a),a.refreshData=!0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch,a=e.patId,n=e.visitId,i={};i.pat_id=a,i.visit_id=n,t(d.patientFamilyMedicalHistoryActions.getPatientFamilyMedicalHistoryRecord(i))}},{key:"submitFamilyMedicalStatus",value:function(){var e=this.props,t=e.patId,a=e.visitId,n=this.state,i={};i.pat_id=t,i.visit_id=a;var l;if(l=c.utilityHelper.mergeMultipleObject([n,i])){var o=this.props,r=o.dispatch;o.patId,o.visitId;r(d.patientFamilyMedicalHistoryActions.newFamilyMedicalHistorySubmit(l)),document.getElementById("familyMedicalTitle").scrollIntoView()}}},{key:"componentDidUpdate",value:function(){var e=this.props.dispatch;this.props.isUserNotValid&&e(u.headerActions.logout())}},{key:"handleCheckboxChange",value:function(e,t){var a=this.state;this.setState(n({},a,f({},t,c.utilityHelper.getArrayDifference(this.state[t],e))))}},{key:"handleCheckboxChangeAll",value:function(e,t){var a=this.state;this.setState(n({},a,f({},t,e)))}},{key:"handleInputChange",value:function(e){var t=this.state,a=e.target,i=a.name,l=a.value;this.setState(n({},t,f({},i,l)))}},{key:"componentWillReceiveProps",value:function(e){if(e.fetchedFamilyMedicalData&&this.refreshData){this.refreshData=!1;var t=e.patientFamilyMedicalData.record.map(function(e,t){var a={};return a.id=e.disease_id,a.value=e.disease_status,a.relation_id=e.family_relation_id,a.relation_value=e.family_relation,a}),a={};for(var n in t)a[t[n].id]=t[n].value,a[t[n].relation_id]=t[n].relation_value;this.setState(a)}if(e.isUpdateDone){var i=this.props.dispatch;setTimeout(function(){i(d.patientFamilyMedicalHistoryActions.resetState())},2e3)}}},{key:"render",value:function(){return this.props.fetchedFamilyMedicalData?l.default.createElement("div",null,l.default.createElement(m,{successMessage:this.props.successMessage,errorMsg:this.props.errorMsg,patientFamilyMedicalData:this.props.patientFamilyMedicalData,patId:this.props.patId,visitId:this.props.visitId,isUpdateDone:this.props.isUpdateDone,submitFamilyMedicalStatus:this.submitFamilyMedicalStatus,state:this.state,handleCheckboxChange:this.handleCheckboxChange,handleCheckboxChangeAll:this.handleCheckboxChangeAll,handleInputChange:this.handleInputChange})):l.default.createElement("div",null)}}]),t}();var v=(0,o.connect)(function(e){var t=e.patientFamilyMedicalHistory;return{successMessage:t.successMessage,errorMsg:t.errorMsg,isUserNotValid:t.isUserNotValid,fetchedFamilyMedicalData:t.fetchedFamilyMedicalData,isUpdateDone:t.isUpdateDone,patientFamilyMedicalData:t.patientFamilyMedicalData}})(h);t.PatientFamilyMedicalHistoryContainer=v},2579:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patientFamilyMedicalHistoryActions=void 0;var n=a(8),i=a(10),l=a(2580),o=a(325);t.patientFamilyMedicalHistoryActions={getPatientFamilyMedicalHistoryRecord:function(e){return function(a){a({type:o.patientFamilyMedicalHistoryConstants.PATIENT_FAMILY_MEDICAL_HISTORY_DATA_REQUEST}),l.patientFamilyMedicalHistoryService.getPatientFamilyMedicalHistoryRecordService(e).then(function(e){var l,r,s=e.data;if(s.code==n.configConstants.SUCCESS_CODE)a((r=s,{type:o.patientFamilyMedicalHistoryConstants.PATIENT_FAMILY_MEDICAL_HISTORY_DATA_SUCCESS,patientFamilyMedicalData:r}));else if(s.code==n.configConstants.ERROR_CODE){var c=i.utilityHelper.getFirstErrorMessage(s.error);a(t(c))}else if(s.code==n.configConstants.EXCEPTION_CODE){var c=s.message;a(t(c))}else if(s.code==n.configConstants.UNAUTHENTICATE_CODE){var c=s.message;a((l=c,{type:n.configConstants.UNAUTHENTICATE,error:l}))}else a(t(e))}).catch(function(e){a(t(e))})};function t(e){return{type:o.patientFamilyMedicalHistoryConstants.PATIENT_FAMILY_MEDICAL_HISTORY_DATA_FAILURE,error:e}}},newFamilyMedicalHistorySubmit:function(e){return function(a){a({type:o.patientFamilyMedicalHistoryConstants.NEW_FAMILY_MEDICAL_HISTORY_DATA_REQUEST,familyMedicalData:e}),l.patientFamilyMedicalHistoryService.doNewFamilyMedicalHistory(e).then(function(e){var l,r=e.data;if(r.code==n.configConstants.SUCCESS_CODE)a(function(e){return{type:o.patientFamilyMedicalHistoryConstants.NEW_FAMILY_MEDICAL_HISTORY_DATA_SUCCESS,data:e}}(r));else if(r.code==n.configConstants.ERROR_CODE){var s=i.utilityHelper.getFirstErrorMessage(r.error);a(t(s))}else if(r.code==n.configConstants.EXCEPTION_CODE)a(t(r.message));else if(r.code==n.configConstants.UNAUTHENTICATE_CODE){var s=r.message;a((l=s,{type:n.configConstants.UNAUTHENTICATE,error:l}))}else a(t(e))}).catch(function(e){a(t(e))})};function t(e){return{type:o.patientFamilyMedicalHistoryConstants.NEW_FAMILY_MEDICAL_HISTORY_DATA_FAILURE,errorMsg:e}}},resetState:function(){return function(e){e({type:o.patientFamilyMedicalHistoryConstants.PATIENT_FAMILY_MEDICAL_HISTORY_RESET_STATE})}}}},2580:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patientFamilyMedicalHistoryService=void 0;var n,i=a(15),l=(n=i)&&n.__esModule?n:{default:n},o=a(8),r=a(10);t.patientFamilyMedicalHistoryService={getPatientFamilyMedicalHistoryRecordService:function(e){return(0,l.default)({method:"POST",url:o.configConstants.API_BASE_PATH+"visit/familymedicalhistory/details",data:r.headerHelper.appendUserDataInJson(e),headers:r.headerHelper.getHeaderWithAuthorization()}).then(function(e){return e}).catch(function(e){return e})},doNewFamilyMedicalHistory:function(e){return(0,l.default)({method:"post",url:o.configConstants.API_BASE_PATH+"visit/familymedicalhistory/save",data:r.headerHelper.getJsonDataToFormData(e),headers:r.headerHelper.getHeaderWithAuthorization("multipart/form-data")}).then(function(e){return e}).catch(function(e){return e})}}},811:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxGroup=t.Checkbox=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),r=(n=o)&&n.__esModule?n:{default:n};function s(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=t.Checkbox=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,o.Component),l(t,[{key:"componentWillMount",value:function(){if(!this.props||!this.props.checkboxGroup)throw new Error("The `Checkbox` component must be used as a child of `CheckboxGroup`.")}},{key:"render",value:function(){var e=this.props,t=e.checkboxGroup,a=t.name,n=t.checkedValues,l=t.onChange,o=s(e,["checkboxGroup"]),c={};return n&&(c.checked=n.indexOf(this.props.value)>=0),"function"==typeof l&&(c.onChange=l.bind(null,this.props.value)),r.default.createElement("input",i({},o,{type:"checkbox",name:a,disabled:this.props.disabled},c))}}]),t}();p.displayName="Checkbox";var f=t.CheckboxGroup=function(e){function t(e){c(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._prepareBoxes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n>t)return e;var i={name:a.props.name,checkedValues:a.state.value,onChange:a._onCheckboxChange};return r.default.Children.map(e,function(e){return e&&e.$$typeof?e.type===p?r.default.cloneElement(e,{checkboxGroup:i}):r.default.cloneElement(e,{},e.props.children?r.default.Children.map(e.props.children,function(e){return a._prepareBoxes(e,t,n+1)}):null):e})},a._isControlledComponent=a._isControlledComponent.bind(a),a._onCheckboxChange=a._onCheckboxChange.bind(a),a.getValue=a.getValue.bind(a),a.state={value:a.props.value||a.props.defaultValue||[]},a}return d(t,o.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.Component,a=(e.name,e.value,e.onChange,e.children),n=e.checkboxDepth,i=void 0===n?1:n,l=s(e,["Component","name","value","onChange","children","checkboxDepth"]);return r.default.createElement(t,l,this._prepareBoxes(a,i))}},{key:"getValue",value:function(){return this.state.value}},{key:"_isControlledComponent",value:function(){return Boolean(this.props.value)}},{key:"_onCheckboxChange",value:function(e,t){var a=void 0;a=t.target.checked?this.state.value.concat(e):this.state.value.filter(function(t){return t!==e}),this._isControlledComponent()?this.setState({value:this.props.value}):this.setState({value:a}),"function"==typeof this.props.onChange&&this.props.onChange(a,t,this.props.name)}}]),t}();f.displayName="CheckboxGroup",f.defaultProps={Component:"div"}}}]);