(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemicExamination=void 0;var i=s(n(1)),a=(n(43),s(n(296)),n(66)),o=n(8),r=n(2646);function s(e){return e&&e.__esModule?e:{default:e}}t.SystemicExamination=function(e){return i.default.createElement("div",null,i.default.createElement("div",{className:"row",id:"physicalExaminationTitle"},i.default.createElement("div",{className:"col-md-6"},i.default.createElement("h3",null,"Systemic Examination")),e.user_type!=o.configConstants.USER_TYPE_PATIENT?i.default.createElement("div",{className:"col-md-6 text-right"},i.default.createElement("button",{className:"btn text-btn green",disabled:!!e.submitted,onClick:e.submitSystemicExamination},e.submitted?o.configConstants.BUTTON_PLEASE_WAIT:o.configConstants.SAVE_BUTTON)):""),i.default.createElement(a.PatientAlertMessage,{errorMsg:e.errorMsg,isUpdateDone:e.isUpdateDone,successMessage:e.successMsg}),e.fetchedSystemicExaminationData&&i.default.createElement("div",null,i.default.createElement(r.RespiratorySystemContainer,{formData:e.patientSystemicExaminationData,patId:e.patId,visitId:e.visitId,ref:e.RespiratorySystemContainerRef})))}},1951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RespiratorySystem=void 0;var i,a=n(1),o=(i=a)&&i.__esModule?i:{default:i},r=n(802);t.RespiratorySystem=function(e){return o.default.createElement("div",null,o.default.createElement("div",{className:"row"},o.default.createElement(r.FxForm,{config:e.formConfig,ref:function(t){e.handleBoundFormURTUpdate(t)}})))}},2645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1950);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(2648);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},2646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1951);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(2647);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},2647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RespiratorySystemContainer=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(1)),o=s(n(296)),r=n(66);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.default)({loader:function(){return Promise.resolve().then(n.t.bind(null,1951,7)).then(function(e){return e.RespiratorySystem})},loading:r.Loading});t.RespiratorySystemContainer=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.boundFormURT=void 0,n.handleBoundFormURTUpdate=n.handleBoundFormURTUpdate.bind(n),n.getRespiratorySystemData=n.getRespiratorySystemData.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"handleBoundFormURTUpdate",value:function(e){this.boundFormURT=e}},{key:"getRespiratorySystemData",value:function(){if(this.boundFormURT){var e=this.boundFormURT.getData();if(e)return e}}},{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement(c,{patId:this.props.patId,visitId:this.props.visitId,formConfig:this.props.formData,handleBoundFormURTUpdate:this.handleBoundFormURTUpdate,getRespiratorySystemData:this.getRespiratorySystemData}))}}]),t}()},2648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemicExaminationContainer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(1)),r=n(36),s=l(n(296)),c=n(66),u=n(10),d=n(54),f=n(2649);function l(e){return e&&e.__esModule?e:{default:e}}var m=(0,s.default)({loader:function(){return Promise.resolve().then(n.t.bind(null,1950,7)).then(function(e){return e.SystemicExamination})},loading:c.Loading}),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.boundForm=void 0,i.handleBoundFormUpdate=i.handleBoundFormUpdate.bind(i),i.submitSystemicExamination=i.submitSystemicExamination.bind(i),i.RespiratorySystemContainerRef=o.default.createRef(),i.showHide=i.showHide.bind(i),i.state={},i.showHideTriggers=[],i.state={formConfig:""},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"submitSystemicExamination",value:function(){var e=this.props,t=e.patId,n=e.visitId,i=this.RespiratorySystemContainerRef.current.getRespiratorySystemData(),a={};a.pat_id=t,a.visit_id=n;var o;if(o=u.utilityHelper.mergeMultipleObject([i,a])){var r=this.props,s=r.dispatch;r.patId,r.visitId;s(f.systemicExaminationActions.submitRequest(o))}}},{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch,n=e.patId,i=e.visitId,a={};a.pat_id=n,a.visit_id=i,t(f.systemicExaminationActions.getSystemicExaminationRecord(a))}},{key:"handleBoundFormUpdate",value:function(e){this.boundForm=e}},{key:"componentDidUpdate",value:function(){var e=this.props.dispatch;this.props.isUserNotValid&&e(d.headerActions.logout())}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.dispatch,i=t.patId,a=t.visitId;if(e.isUpdateDone&&setTimeout(function(){n(f.systemicExaminationActions.resetState());var e={};e.pat_id=i,e.visit_id=a,n(f.systemicExaminationActions.getSystemicExaminationRecord(e))},2e3),e.fetchedSystemicExaminationData){var o=this.state,r=e.patientSystemicExaminationData.form_1,s=r.fields,c=r.handlers,u=(r.handlerData,r.handlerName);for(var d in r.fields){var l=s[d].name,m=s[d].fieldName;c.hasOwnProperty(l+"_handle")&&"changeValue"==c[l+"_handle"]&&(c[l+"_handle"]=this.changeValue,o[u[l]]=l,o[l]=s[d].value),c.hasOwnProperty(l+"_handle")&&"showHide"==c[l+"_handle"]&&(c[l+"_handle"]=this.showHide,this.showHideTriggers[m]=!1,null!==s[d].value&&""!=s[d].value&&(o[u[l]]=l,o[l]=s[d].value,s[d].value.indexOf("1")>=0?this.showHideTriggers[m]=!0:this.showHideTriggers[m]=!1)),""!=s[d].showHideTrigger&&(s[d].showOnForm=this.showHideTriggers[s[d].showHideTrigger])}e.patientSystemicExaminationData.form_1=r,this.setState({formConfig:r})}}},{key:"showHide",value:function(e,t){var n=this.state.formConfig,a=n.fields;for(var o in a){a[o].showHideTrigger==t&&(e.indexOf("1")>=0?a[o].showOnForm=!0:a[o].showOnForm=!1)}this.setState({formConfig:i({},n,{fields:a})})}},{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(m,{successMsg:this.props.successMsg,errorMsg:this.props.errorMsg,submitted:this.props.submitted,patId:this.props.patId,visitId:this.props.visitId,user_type:this.props.user_type,RespiratorySystemContainerRef:this.RespiratorySystemContainerRef,patientSystemicExaminationData:this.props.patientSystemicExaminationData.form_1,fetchedSystemicExaminationData:this.props.fetchedSystemicExaminationData,submitSystemicExamination:this.submitSystemicExamination,isUpdateDone:this.props.isUpdateDone}))}}]),t}();var y=(0,r.connect)(function(e){var t=e.systemicExamination,n=t.isUserNotValid,i=t.isInsertDone,a=t.submitted,o=t.successMsg,r=t.errorMsg,s=t.patientSymptomsOptionData,c=t.dataGridRefresh,u=t.pages,d=t.fetchSymptomsOptionData,f=t.patientSystemicExaminationData,l=t.fetchedSystemicExaminationData,m=t.isUpdateDone;return{isInsertDone:i,submitted:a,successMsg:o,errorMsg:r,patientSymptomsOptionData:s,dataGridRefresh:c,isUserNotValid:n,pages:u,user_type:e.session.user.user_type,fetchSymptomsOptionData:d,patientSystemicExaminationData:f,fetchedSystemicExaminationData:l,isUpdateDone:m}})(p);t.SystemicExaminationContainer=y},2649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemicExaminationActions=void 0;var i=n(8),a=n(10),o=n(2650),r=n(331);t.systemicExaminationActions={getSystemicExaminationRecord:function(e){return function(n){n({type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_DATA_REQUEST}),o.systemicExaminationService.getSystemicExaminationRecord(e).then(function(e){var o,s,c=e.data;if(c.code==i.configConstants.SUCCESS_CODE)n((s=c,{type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_DATA_SUCCESS,examinationDetails:s}));else if(c.code==i.configConstants.ERROR_CODE){var u=a.utilityHelper.getFirstErrorMessage(c.error);n(t(u))}else if(c.code==i.configConstants.EXCEPTION_CODE){var u=c.message;n(t(u))}else if(c.code==i.configConstants.UNAUTHENTICATE_CODE){var u=c.message;n((o=u,{type:i.configConstants.UNAUTHENTICATE,error:o}))}else n(t(e))}).catch(function(e){n(t(e))})};function t(e){return{type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_DATA_FAILURE,error:e}}},submitRequest:function(e){return function(n){n(function(e){return{type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_ADD_REQUEST,patientDetails:e}}({patientDetails:e})),o.systemicExaminationService.doSubmitRequest(e).then(function(e){var o,s=e.data;if(s.code==i.configConstants.SUCCESS_CODE){var c={message:s.message};n(function(e){return{type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_ADD_SUCCESS,result:e}}(c))}else if(s.code==i.configConstants.ERROR_CODE){var u=a.utilityHelper.getFirstErrorMessage(s.error);n(t(u))}else if(s.code==i.configConstants.EXCEPTION_CODE)n(t(s.message));else if(s.code==i.configConstants.UNAUTHENTICATE_CODE){var u=s.message;n((o=u,{type:i.configConstants.UNAUTHENTICATE,error:o}))}else n(t(e))}).catch(function(e){n(t(e.message))})};function t(e){return{type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_ADD_FAILURE,errorMsg:e}}},resetState:function(){return function(e){e({type:r.systemicExaminationConstants.SYSTEMIC_EXAMINATION_RESET_STATE})}}}},2650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemicExaminationService=void 0;var i,a=n(15),o=(i=a)&&i.__esModule?i:{default:i},r=n(8),s=n(10);t.systemicExaminationService={getSystemicExaminationRecord:function(e){return(0,o.default)({method:"POST",url:r.configConstants.API_BASE_PATH+"visit/systemicexamination/details",data:s.headerHelper.appendUserDataInJson(e),headers:s.headerHelper.getHeaderWithAuthorization()}).then(function(e){return e}).catch(function(e){return e})},doSubmitRequest:function(e){return(0,o.default)({method:"post",url:r.configConstants.API_BASE_PATH+"visit/systemicexamination/save",data:s.headerHelper.getJsonDataToFormData(e),headers:s.headerHelper.getHeaderWithAuthorization("multipart/form-data")}).then(function(e){return e}).catch(function(e){return e})}}}}]);