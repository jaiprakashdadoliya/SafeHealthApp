(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1998:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartReports=void 0;var r=s(a(1)),n=(a(66),a(80),s(a(115))),o=(s(a(296)),a(8),a(10)),l=a(829);function s(e){return e&&e.__esModule?e:{default:e}}t.ChartReports=function(e){return r.default.createElement("div",{className:"col-md-12 mb-10"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12"},r.default.createElement("h4",null,"Statistics")),r.default.createElement("div",{className:"col-md-3"},r.default.createElement("div",{className:"form-group"},r.default.createElement(n.default,{name:"report_period",className:"custom-select",value:e.detail.report_period,clearable:!1,placeholder:"Select",options:o.utilityHelper.getReportPeriods(),onChange:function(t,a){return e.handleSelectChange(t,"report_period")}}),r.default.createElement("label",{className:"control-label"},"Select Report Period"))),r.default.createElement("div",{className:"col-md-3"},r.default.createElement("div",{className:"form-group"},r.default.createElement(n.default,{name:"year",className:"custom-select",value:e.detail.year,clearable:!1,placeholder:"Select",options:o.utilityHelper.getYears(),onChange:function(t,a){return e.handleSelectChange(t,"year")}}),r.default.createElement("label",{className:"control-label"},"Select Year"))),e.monthListVisible&&r.default.createElement("div",{className:"col-md-3"},r.default.createElement("div",{className:"form-group"},r.default.createElement(n.default,{name:"month",className:"custom-select",value:e.detail.month,clearable:!1,placeholder:"Select",options:o.utilityHelper.getMonths(),onChange:function(t,a){return e.handleSelectChange(t,"month")}}),r.default.createElement("label",{className:"control-label"},"Select Month")))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 margin-top-25"},r.default.createElement("div",{className:"col-md-9 col-sm-12 patient-info"},e.reportsData&&e.reportsData.length>0?r.default.createElement(l.BarChart,{width:1e3,height:300,data:e.reportsData,margin:{top:5,right:30,left:20,bottom:5}},r.default.createElement(l.CartesianGrid,{strokeDasharray:"3 3"}),r.default.createElement(l.XAxis,{dataKey:"name"}),r.default.createElement(l.YAxis,{type:"number"}),r.default.createElement(l.Tooltip,{cursor:!0}),r.default.createElement(l.Legend,null),r.default.createElement(l.Bar,{dataKey:"patients",fill:"#096dd9",maxBarSize:50})):r.default.createElement("div",{className:"col-md-9 col-sm-12"},r.default.createElement("div",{className:"date-column-outer nextDay"},"No Data Found !!"))))))}},2764:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1998);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var n=a(2765);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},2765:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartReportsContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=c(a(1)),l=a(36),s=(c(a(296)),a(66),a(1998)),i=(a(8),a(10),a(2766));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));r.handleSubmit=r.handleSubmit.bind(r),r.handleSelectChange=r.handleSelectChange.bind(r);var n=new Date,o=n.getMonth()+1,l=n.getFullYear();return r.state={detail:{report_period:"1",month:o,year:l},reportsData:[],monthListVisible:!0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentDidMount",value:function(){this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this.props.dispatch;"1"==this.state.detail.report_period?e(i.chartReportsActions.getPatientsReportForMonth(this.state.detail.month,this.state.detail.year)):e(i.chartReportsActions.getPatientsReportForYear(this.state.detail.year))}},{key:"componentWillReceiveProps",value:function(e){e.reportsData&&this.setState({reportsData:e.reportsData})}},{key:"handleSelectChange",value:function(e,t){var a,n,o,l=this.state.detail;if("report_period"==t){var s=this.state.monthListVisible;"1"==e.value?this.setState(r({},s,{monthListVisible:!0})):this.setState(r({},s,{monthListVisible:!1}))}this.setState({detail:r({},l,(a={},n=t,o=e.value,n in a?Object.defineProperty(a,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[n]=o,a))},function(){this.handleSubmit()})}},{key:"render",value:function(){return o.default.createElement(s.ChartReports,{reportsData:this.state.reportsData,detail:this.state.detail,handleSubmit:this.handleSubmit,handleSelectChange:this.handleSelectChange,monthListVisible:this.state.monthListVisible})}}]),t}();var d=(0,l.connect)(function(e){return{reportsData:e.chartReports.reportsData}})(u);t.ChartReportsContainer=d},2766:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chartReportsActions=void 0;var r=a(8),n=a(346),o=a(2767);a(10),t.chartReportsActions={getPatientsReportForMonth:function(e,t){return function(l){o.chartReportsService.getPatientsReportForMonth(e,t).then(function(e){var t,o,s=e.data;s.code==r.configConstants.SUCCESS_CODE?l((o=s.result,{type:n.chartReportsConstants.REPORTS_SUCCESS,reportsData:o})):s.code==r.configConstants.ERROR_CODE?l(a(s.message)):s.code==r.configConstants.EXCEPTION_CODE?l(a(s.message)):s.code==r.configConstants.UNAUTHENTICATE_CODE?l((t=s.message,{type:r.configConstants.UNAUTHENTICATE,error:t})):l(a(e))}).catch(function(e){l(a(e.message))})};function a(e){return{type:n.chartReportsConstants.REPORTS_FAILURE,errorMsg:e}}},getPatientsReportForYear:function(e){return function(a){o.chartReportsService.getPatientsReportForYear(e).then(function(e){var o,l,s=e.data;s.code==r.configConstants.SUCCESS_CODE?a((l=s.result,{type:n.chartReportsConstants.REPORTS_SUCCESS,reportsData:l})):s.code==r.configConstants.ERROR_CODE?a(t(s.message)):s.code==r.configConstants.EXCEPTION_CODE?a(t(s.message)):s.code==r.configConstants.UNAUTHENTICATE_CODE?a((o=s.message,{type:r.configConstants.UNAUTHENTICATE,error:o})):a(t(e))}).catch(function(e){a(t(e.message))})};function t(e){return{type:n.chartReportsConstants.REPORTS_FAILURE,errorMsg:e}}}}},2767:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chartReportsService=void 0;var r,n=a(15),o=(r=n)&&r.__esModule?r:{default:r},l=a(8),s=a(10);t.chartReportsService={getPatientsReportForMonth:function(e,t){var a={month:e,year:t};return(0,o.default)({method:"POST",url:l.configConstants.API_BASE_PATH+"doctor/reports",headers:s.headerHelper.getHeaderWithAuthorization(),data:s.headerHelper.appendUserDataInJson(a)}).then(function(e){return e}).catch(function(e){var t=s.utilityHelper.catchServiceErrorHandel(e);return t})},getPatientsReportForYear:function(e){var t={year:e};return(0,o.default)({method:"POST",url:l.configConstants.API_BASE_PATH+"doctor/reports",headers:s.headerHelper.getHeaderWithAuthorization(),data:s.headerHelper.appendUserDataInJson(t)}).then(function(e){return e}).catch(function(e){var t=s.utilityHelper.catchServiceErrorHandel(e);return t})}}}}]);