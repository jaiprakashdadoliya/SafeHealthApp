(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{2252:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatientAllVisit=void 0;var n=s(i(1)),a=s(i(296)),r=i(66);function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,a.default)({loader:function(){return Promise.resolve().then(i.t.bind(null,960,7)).then(function(e){return e.PatientAllVisitList})},loading:r.Loading}),l=(0,a.default)({loader:function(){return i.e(6).then(i.t.bind(null,810,7)).then(function(e){return e.HeaderContainer})},loading:r.Loading});t.PatientAllVisit=function(e){return n.default.createElement("div",null,n.default.createElement(l,null),n.default.createElement(o,{patientNewVisitCreate:e.patientNewVisitCreate,patId:e.patId,patientVisitList:e.patientVisitList,patientVisitListSearch:e.patientVisitListSearch,getPatientVisitList:e.getPatientVisitList}))}},2253:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatientAllVisitContainer=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=f(i(1)),r=i(36),s=f(i(296)),o=i(66),l=i(803),c=i(961),u=i(8),d=i(54),p=i(10);function f(e){return e&&e.__esModule?e:{default:e}}var m=(0,s.default)({loader:function(){return Promise.resolve().then(i.t.bind(null,960,7)).then(function(e){return e.PatientAllVisitList})},loading:o.Loading}),h=(0,s.default)({loader:function(){return i.e(5).then(i.t.bind(null,813,7)).then(function(e){return e.SideMenu})},loading:o.Loading}),g=(0,s.default)({loader:function(){return i.e(6).then(i.t.bind(null,810,7)).then(function(e){return e.HeaderContainer})},loading:o.Loading}),_=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.booking_id="",n.patientNewVisitCreate=n.patientNewVisitCreate.bind(n),n.patientVisitListSearch=n.patientVisitListSearch.bind(n),n.getPatientVisitList=n.getPatientVisitList.bind(n),n.redirectHandleVisitPage=n.redirectHandleVisitPage.bind(n),n.newVisit=!0,n.isPending=!1,void 0!=n.props.match.params.bookingId&&(n.booking_id=n.props.match.params.bookingId),n.state={pages:0,filtered:[],filterAll:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"patientNewVisitCreate",value:function(e,t){if(null!==e&&""!=e){var i={};i.patientUserId=e,i.patientBookingId=t,(0,this.props.dispatch)(c.patientAllVisitActions.newVisitCreate(i)),this.isPending=!0}}},{key:"componentWillReceiveProps",value:function(e){var t=this,i=this.props.dispatch;if(e.fetchedNewVisitData&&this.newVisit){var n=e.patientNewVisitData.visit_type==u.dataConstants.INITIAL_VISIT_TYPE||e.patientNewVisitData.visit_type==u.dataConstants.FOLLOWUP_VISIT_TYPE?"/patientnewvisit/":"/editpatient/";n=""!=this.booking_id?n+this.props.match.params.patId+"/"+e.patientNewVisitData.visit_id+"/"+this.booking_id:n+this.props.match.params.patId+"/"+e.patientNewVisitData.visit_id,1==e.patientNewVisitData.is_pending&&this.isPending&&(0,l.confirmAlert)({title:"New Visit",message:"Please finish patient last visit before creating new one.",buttons:[{label:"Ok",onClick:function(){t.newVisit=!1,t.isPending=!1,e.patientNewVisitData.is_pending=!1,i(c.patientAllVisitActions.resetState()),e.history.push(n)}},{label:a.default.createElement("div",{className:"btn default table-btn"},"Cancel"),onClick:function(){return t.isPending=!1,e.patientNewVisitData.is_pending=!1,!1}}]}),0==e.patientNewVisitData.is_pending&&this.isPending&&(this.isPending=!1,this.newVisit=!1,i(c.patientAllVisitActions.resetState()),e.history.push(n))}}},{key:"patientVisitListSearch",value:function(e){var t=e.target.value,i=[{id:"all",value:t}];this.setState({filterAll:t,filtered:i})}},{key:"getPatientVisitList",value:function(e,t,i,n){var a=p.utilityHelper.getUserInfo(),r="";r=a.user_type==u.configConstants.USER_TYPE_PATIENT?a.user_id:this.props.match.params.patId,(0,this.props.dispatch)(c.patientAllVisitActions.patientVisitList(r,e,t,i,n,this.booking_id))}},{key:"redirectHandleVisitPage",value:function(e,t,i){0!=e&&(""!=this.booking_id?this.props.history.push("/patientnewvisit/"+e+"/"+t+"/"+this.props.match.params.bookingId):this.props.history.push("/patientnewvisit/"+e+"/"+t))}},{key:"componentWillMount",value:function(){(0,this.props.dispatch)(d.patientProfileAction.patientProfileRequest(this.props.match.params.patId))}},{key:"componentDidUpdate",value:function(){var e=this.props.dispatch;this.props.isUserNotValid&&e(d.headerActions.logout())}},{key:"render",value:function(){return a.default.createElement("div",{className:"page-container"},a.default.createElement(h,null),a.default.createElement("div",{className:" right-sidebar-remove"},a.default.createElement(g,null),a.default.createElement(m,{patientNewVisitCreate:this.patientNewVisitCreate,patId:this.props.match.params.patId,bookingId:this.booking_id,patientVisitList:this.props.patientVisitList,patientVisitListSearch:this.patientVisitListSearch,getPatientVisitList:this.getPatientVisitList,redirectHandleVisitPage:this.redirectHandleVisitPage,pages:this.props.pages,filterAll:this.state.filterAll,filtered:this.state.filtered,patientUpdatedData:this.props.patientUpdatedData})))}}]),t}();var v=(0,r.connect)(function(e){var t=e.patientAllVisit;return{submitted:t.submitted,sendingRequest:t.sendingRequest,errorMsg:t.errorMsg,isUserNotValid:t.isUserNotValid,fetchedNewVisitData:t.fetchedNewVisitData,isUpdateDone:t.isUpdateDone,patientNewVisitData:t.patientNewVisitData,patientVisitList:t.patientVisitList,pages:t.pages,patientUpdatedData:e.patientProfile.patientUpdatedData}})(_);t.PatientAllVisitContainer=v},778:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2252);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var a=i(960);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var r=i(2253);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},803:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.confirmAlert=function(e){(function(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.7");var i=document.createElementNS(e,"filter");i.setAttribute("id","gaussian-blur"),i.appendChild(t);var n=document.createElementNS(e,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(i),document.body.appendChild(n)})(),function(e){document.body.children[0].classList.add("react-confirm-alert-blur");var t=document.createElement("div");t.id="react-confirm-alert",document.body.appendChild(t),(0,c.render)(o.default.createElement(p,e),t)}(e)};var s=i(1),o=u(s),l=u(i(0)),c=i(13);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(a=n=function(e){function t(){var e,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return i=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.handleClickButton=function(e){e.onClick&&e.onClick(),n.close()},n.close=function(){var e,t;e=document.getElementById("react-confirm-alert"),(0,c.unmountComponentAtNode)(e),e.parentNode.removeChild(e),(t=document.getElementById("react-confirm-alert-firm-svg")).parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur")},n.componentWillUnmount=function(){n.props.willUnmount()},n.renderCustomUI=function(){var e=n.props,t=e.title,i=e.message;return(0,e.customUI)({title:t,message:i,onClose:n.close})},d(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.title,n=t.message,a=t.buttons,r=t.childrenElement,s=t.customUI;return o.default.createElement("div",{className:"react-confirm-alert-overlay"},o.default.createElement("div",{className:"react-confirm-alert"},s?this.renderCustomUI():o.default.createElement("div",{className:"react-confirm-alert-body"},i&&o.default.createElement("h1",null,i),n,r(),o.default.createElement("div",{className:"react-confirm-alert-button-group"},a.map(function(t,i){return o.default.createElement("button",{key:i,onClick:function(){return e.handleClickButton(t)}},t.label)})))))}}]),t}(),n.propTypes={title:l.default.string,message:l.default.string,buttons:l.default.array.isRequired,childrenElement:l.default.func,customUI:l.default.func,willUnmount:l.default.func},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null}},{label:"Confirm",onClick:function(){return null}}],childrenElement:function(){return null},willUnmount:function(){return null}},a);t.default=p},804:function(e,t,i){},960:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatientAllVisitList=void 0;var n=l(i(1)),a=i(66),r=i(8),s=l(i(807));i(43);i(804);var o=i(10);function l(e){return e&&e.__esModule?e:{default:e}}t.PatientAllVisitList=function(e){var t=o.utilityHelper.getUserInfo(),i=[{Header:"Visit",headerClassName:"grid-header",accessor:"visit_number",filterMethod:function(e,t){return t[e.id].includes(e.value)}},{Header:"Date & Time",headerClassName:"grid-header",accessor:"created_at",filterMethod:function(e,t){return t[e.id].includes(e.value)}},{Header:"Present Complaints",headerClassName:"grid-header",accessor:"symptom_list",filterable:!1,sortable:!1},{Header:"Doctor Name",headerClassName:"grid-header",accessor:"doctor_name",filterable:!0,sortable:!0},{Header:"Action",headerClassName:"grid-header-action text-center",filterable:!1,sortable:!1,className:"text-center",Cell:function(t){return n.default.createElement("div",null,n.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.redirectHandleVisitPage(t.original.pat_id,t.original.visit_id,t.original.visit_type)},className:"btn green table-btn"},"Edit"))}}];return n.default.createElement("div",{className:"main-content"},n.default.createElement("div",{className:"wrap-inner-content"},n.default.createElement("div",{className:"col-md-12"},n.default.createElement("div",{className:"inner-content"},n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-md-6 col-sm-6"},n.default.createElement(a.PatientInfoHeader,{pat_code:e.patientUpdatedData.pat_code,visit_date:"",user_firstname:e.patientUpdatedData.user_firstname,user_lastname:e.patientUpdatedData.user_lastname,country_code_sign:r.configConstants.COUNTRY_CODE_SIGN,country_code:e.patientUpdatedData.user_country_code,mobile:e.patientUpdatedData.user_mobile,age:e.patientUpdatedData.age,blood_group:e.patientUpdatedData.pat_blood_group_name,allergy_type_value:e.patientUpdatedData.allergy_type_value,pat_profile_img:e.patientUpdatedData.pat_profile_img})),t.user_type!=r.configConstants.USER_TYPE_PATIENT&&n.default.createElement("div",{className:"col-md-6 col-sm-6 text-right"},n.default.createElement("a",{href:"/app/patientlist",className:"btn text-btn yellow"},"Patient List"),n.default.createElement("a",{href:"javascript:void(0)",className:"btn text-btn green",onClick:e.patientNewVisitCreate.bind(null,e.patId,e.bookingId)},"New Visit")))),n.default.createElement("div",{className:"inner-content"},n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-md-12"},n.default.createElement("h2",{className:"checkbox-listing"},"All visits:"),n.default.createElement("div",{className:"clearfix"}),n.default.createElement("div",{className:"table-responsive"},n.default.createElement("div",{className:"table-wrap"},n.default.createElement("div",{className:"table-search"},n.default.createElement("input",{value:e.filterAll,onChange:e.patientVisitListSearch,className:"table-search-input",placeholder:"Search"})),n.default.createElement(s.default,{noDataText:"No visit found !!",columns:i,data:e.patientVisitList,defaultPageSize:5,className:"table table-bordered responsive",defaultFilterMethod:function(e,t){return String(t[e.id])===e.value},Sorted:!0,minRows:0,pages:e.pages,showPagination:!0,showPaginationTop:!0,showPaginationBottom:!1,pageSizeOptions:[2,5,10,25,50,100],manual:!0,filtered:e.filtered,onFetchData:function(t,i){e.getPatientVisitList(t.page,t.pageSize,t.sorted,t.filtered)}})))))))))}},961:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patientAllVisitActions=void 0;var n=i(8),a=i(10),r=i(962),s=i(313);t.patientAllVisitActions={newVisitCreate:function(e){return function(i){i(function(e){return{type:s.patientAllVisitConstants.NEW_PATIENT_FOLLOW_UP_REQUEST,patientDetails:e}}({patientDetails:e})),r.patientAllVisitService.doNewVisitCreate(e).then(function(e){var r,o=e.data;if(o.code==n.configConstants.SUCCESS_CODE)i(function(e){return{type:s.patientAllVisitConstants.NEW_PATIENT_FOLLOW_UP_SUCCESS,data:e}}(o));else if(o.code==n.configConstants.ERROR_CODE){var l=a.utilityHelper.getFirstErrorMessage(o.error);i(t(l))}else if(o.code==n.configConstants.EXCEPTION_CODE)i(t(o.message));else if(o.code==n.configConstants.UNAUTHENTICATE_CODE){var l=o.message;i((r=l,{type:n.configConstants.UNAUTHENTICATE,error:r}))}else i(t(e))}).catch(function(e){i(t(e))})};function t(e){return{type:s.patientAllVisitConstants.NEW_PATIENT_FOLLOW_UP_FAILURE,errorMsg:e}}},resetState:function(){return function(e){e({type:s.patientAllVisitConstants.PATIENT_FOLLOW_UP_RESET_STATE})}},patientVisitList:function(e,t,i,a,o,l){return function(u){u({type:s.patientAllVisitConstants.PATIENT_VISIT_LIST_DATA_REQUEST}),r.patientAllVisitService.getPatientVisitListRequest(e,t,i,a,o,l).then(function(e){var t,i,a=e.data;a.code==n.configConstants.SUCCESS_CODE?u((i=a.result,{type:s.patientAllVisitConstants.PATIENT_VISIT_LIST_DATA_SUCCESS,visitList:i})):a.code==n.configConstants.ERROR_CODE?u(c(a.message)):a.code==n.configConstants.EXCEPTION_CODE?u(c(a.message)):a.code==n.configConstants.UNAUTHENTICATE_CODE?u((t=a.message,{type:n.configConstants.UNAUTHENTICATE,error:t})):u(c(e))}).catch(function(e){u(c(e.message))})};function c(e){return{type:s.patientAllVisitConstants.PATIENT_VISIT_LIST_DATA_FAILURE,errorMsg:e}}}}},962:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patientAllVisitService=void 0;var n,a=i(15),r=(n=a)&&n.__esModule?n:{default:n},s=i(8),o=i(10);t.patientAllVisitService={doNewVisitCreate:function(e){return(0,r.default)({method:"POST",url:s.configConstants.API_BASE_PATH+"patients/profile/new-visit-id",data:o.headerHelper.appendUserDataInJson(e),headers:o.headerHelper.getHeaderWithAuthorization()}).then(function(e){return e}).catch(function(e){return e})},getPatientVisitListRequest:function(e,t,i,n,a,l){var c={patId:e,page:t,pageSize:i,sorted:n,filtered:a,bookingId:l};return(0,r.default)({method:"POST",url:s.configConstants.API_BASE_PATH+"visit/list",data:o.headerHelper.appendUserDataInJson(c),headers:o.headerHelper.getHeaderWithAuthorization()}).then(function(e){return e}).catch(function(e){var t=o.utilityHelper.catchServiceErrorHandel(e);return t})}}}}]);